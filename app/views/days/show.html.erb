<h1 class="dayDayDate"><%= @day.day_day_date %></h1>

<div class="container">
	<div class="row">
		<div class="col-lg-6">
		    <h2>3 things you are grateful for</h2>
				<ol>
					<li class="dayGrateful1"><%= @day.day_grateful_1 %></li>
					<li class="dayGrateful2"><%= @day.day_grateful_2 %></li>
					<li class="dayGrateful3"><%= @day.day_grateful_3 %></li>
				</ol>
			<h2>3 things you are excited for</h2>
				<ol>
					<li class="dayExcited1"><%= @day.day_excited_1 %></li>
					<li class="dayExcited2"><%= @day.day_excited_2 %></li>
					<li class="dayExcited3"><%= @day.day_excited_3 %></li>
				</ol>
			<h2>Affirmation</h2>
				<ul class="dayAffirmation">
					<li><%= @day.day_affirmation %></li>
				</ul>
			<h2>Focus</h2>
				<ul class="dayFocus">
					<li><%= @day.day_focus %></li>
				</ul>
			<h2>Exercise</h2>
				<ul class="dayExercise">
					<li><%= @day.day_exercise %></li>
				</ul>
			<h2>Priorities</h2>
				<ol>
					<li class="dayPriority1"><%= @day.day_priority_1 %></li>
					<li class="dayPriority2"><%= @day.day_priority_2 %></li>
					<li class="dayPriority3"><%= @day.day_priority_3 %></li>
					<li class="dayPriority4"><%= @day.day_priority_4 %></li>
					<li class="dayPriority5"><%= @day.day_priority_5 %></li>
				</ol>
					
		</div>
    	<div class="col-lg-6">	
			<h2>Schedule</h2>
				<div class="hourTask">
				</div>	
			<h2>Tasks</h2>
				<ol>
					<li class="dayTask1"><%= @day.day_task_1 %></li>
					<li class="dayTask2"><%= @day.day_task_2 %></li>
					<li class="dayTask3"><%= @day.day_task_3 %></li>
					<li class="dayTask4"><%= @day.day_task_4 %></li>
					<li class="dayTask5"><%= @day.day_task_5 %></li>
					<li class="dayTask6"><%= @day.day_task_6 %></li>
					<li class="dayTask7"><%= @day.day_task_7 %></li>
					<li class="dayTask8"><%= @day.day_task_8 %></li>
					<li class="dayTask9"><%= @day.day_task_9 %></li>
					<li class="dayTask10"><%= @day.day_task_10 %></li>
				</ol>
			<h2>Notes</h2>
				<ul class="dayNotes">
					<li><%= @day.day_notes %></li>
				</ul>
			<h2>Wins of the day</h2>
				<ol>
					<li class="dayWin1"><%= @day.day_win_1 %></li>
					<li class="dayWin2"><%= @day.day_win_2 %></li>
					<li class="dayWin3"><%= @day.day_win_3 %></li>
				</ol>
			<h2>Improvement for tomorrow</h2>
				<ul class="dayImprovement">
					<li><%= @day.day_improvement %></li>
				</ul>
    	</div>
  	</div>
</div>



<button class="js-next" data-id="<%= @day.id %>">Next Day</button>

<script type="text/javascript" charset="utf-8">	
 $(function () {
   $(".js-next").on("click", function() {
     var nextId = parseInt($(".js-next").attr("data-id")) + 1;
     $.get("/days/" + nextId + ".json", function(data) {
       $(".dayDayDate").text(data["day_day_date"]);
       $(".dayGrateful1").text(data["day_grateful_1"]);
       $(".dayGrateful2").text(data["day_grateful_2"]);
       $(".dayGrateful3").text(data["day_grateful_3"]);
       $(".dayExcited1").text(data["day_excited_1"]);
       $(".dayExcited2").text(data["day_excited_2"]);
       $(".dayExcited3").text(data["day_excited_3"]);
       $(".dayAffirmation").text(data["day_affirmation"]);
       $(".dayFocus").text(data["day_focus"]);
       $(".dayExercise").text(data["day_exercise"]);
       $(".dayPriority1").text(data["day_priority_1"]);
       $(".dayPriority2").text(data["day_priority_2"]);
       $(".dayPriority3").text(data["day_priority_3"]);
       $(".dayPriority4").text(data["day_priority_4"]);
       $(".dayPriority5").text(data["day_priority_5"]);
        var hour = data["hours"].map(function (hour) {
          return hour["hour_number"] + ": "});
        var task = data["tasks"].map(function (task) {
          return task["task_content"]});
        var hourwithtask = hour.map(function(e, i) {
          return e + task[i] + "<br>"}).join('');
        
        var dayText = hourwithtask;
        $(".hourTask").html(hourwithtask);
       $(".dayTask1").text(data["day_task_1"]);
       $(".dayTask2").text(data["day_task_2"]);
       $(".dayTask3").text(data["day_task_3"]);
       $(".dayTask4").text(data["day_task_4"]);
       $(".dayTask5").text(data["day_task_5"]);
       $(".dayTask6").text(data["day_task_6"]);
       $(".dayTask7").text(data["day_task_7"]);
       $(".dayTask8").text(data["day_task_8"]);
       $(".dayTask9").text(data["day_task_9"]);
       $(".dayTask10").text(data["day_task_10"]);
       $(".dayNotes").text(data["day_notes"]);
       $(".dayWin1").text(data["day_win_1"]);
       $(".dayWin2").text(data["day_win_2"]);
       $(".dayWin3").text(data["day_win_3"]);
       $(".dayImprovement").text(data["day_improvement"]);
       // re-set the id to current on the link
       $(".js-next").attr("data-id", data["id"]);
     });
   });
 });
 </script>


<br>
<br>

<%= link_to("Edit #{@day.day_day_date}", edit_day_path(@day)) %><br>
<%= link_to("Delete #{@day.day_day_date}", day_path(@day), method: :delete, data: { confirm: 'Are you sure?' } ) %>